<link
  href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
  rel="stylesheet"
/>
<app-header [display]="display"></app-header>
<div class="content">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div class="profile-user-box card-box bg-custom">
          <div class="row">
            <div class="col-sm-6">
              <span class="float-left mr-3"
                ><img
                  src="https://bootdey.com/img/Content/avatar/avatar1.png"
                  alt=""
                  class="thumb-lg rounded-circle"
              /></span>
              <div class="media-body text-white">
                <h4 class="mt-1 mb-1 font-18" *ngIf="dataFetched">
                  {{ this.userDetails.FirstName }}&nbsp;
                  {{ this.userDetails.LastName }}&nbsp;
                  <span
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="Edit"
                    data-bs-toggle="modal"
                    data-bs-target="#edit"
                  >
                    <i
                      class="fa fa-pencil-square"
                      aria-hidden="true"
                      (click)="populateUserData()"
                    ></i>
                  </span>
                </h4>
                <div
                  class="modal fade"
                  id="edit"
                  data-bs-backdrop="static"
                  data-bs-keyboard="false"
                  tabindex="-1"
                  aria-labelledby="edit"
                  aria-hidden="true"
                >
                  <div class="modal-dialog modal-dialog-scrollable">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">
                          Edit Your Profile Content
                        </h5>
                        <button
                          type="button"
                          class="btn-close"
                          data-bs-dismiss="modal"
                          aria-label="Close"
                        ></button>
                      </div>
                      <div class="modal-body">
                        <form>
                          <div class="mb-2">
                            <div class="row">
                              <div class="col-md-6">
                                <label
                                  for="recipient-name"
                                  class="col-form-label"
                                  >FirstName :</label
                                >
                                <input
                                  type="text"
                                  class="form-control"
                                  id="first-name"
                                />
                              </div>
                              <div class="col-md-6">
                                <label
                                  for="recipient-name"
                                  class="col-form-label"
                                  >LastName :</label
                                >
                                <input
                                  type="text"
                                  class="form-control"
                                  id="last-name"
                                />
                              </div>
                            </div>
                          </div>
                          <div class="mb-2">
                            <label for="recipient-name" class="col-form-label"
                              >Email :
                            </label>
                            <input
                              type="email"
                              class="form-control"
                              id="email"
                            />
                          </div>
                          <div class="mb-2">
                            <div class="row">
                              <div class="col-md-6">
                                <label
                                  for="recipient-name"
                                  class="col-form-label"
                                  >Profession :
                                </label>
                                <input
                                  type="text"
                                  class="form-control"
                                  id="profession"
                                />
                              </div>
                              <div class="col-md-6">
                                <label
                                  for="recipient-name"
                                  class="col-form-label"
                                  >Contact Number :
                                </label>
                                <input
                                  type="tel"
                                  class="form-control"
                                  id="contact"
                                />
                              </div>
                            </div>
                          </div>
                          <div class="mb-2">
                            <div class="row">
                              <div class="col-md-4">
                                <label
                                  for="recipient-name"
                                  class="col-form-label"
                                  >Country :</label
                                >
                                <select
                                  class="form-select"
                                  aria-label="Default select example"
                                  name="country"
                                  id="country"
                                ></select>
                              </div>
                              <div class="col-md-4">
                                <label
                                  for="recipient-name"
                                  class="col-form-label"
                                  >State :</label
                                >
                                <select
                                  class="form-select"
                                  aria-label="Default select example"
                                  name="state"
                                  id="state"
                                ></select>
                              </div>
                              <div class="col-md-4">
                                <label
                                  for="recipient-name"
                                  class="col-form-label"
                                  >City :</label
                                >
                                <select
                                  class="form-select"
                                  aria-label="Default select example"
                                  name="city"
                                  id="city"
                                ></select>
                              </div>
                            </div>
                          </div>
                          <div class="mb-2">
                            <label for="message-text" class="col-form-label"
                              >Bio :
                            </label>
                            <textarea
                              class="form-control"
                              id="bio"
                              rows="4"
                            ></textarea>
                          </div>
                          <div class="mb-2">
                            <label for="recipient-name" class="col-form-label"
                              >Facebook Link :
                            </label>
                            <input
                              type="url"
                              class="form-control"
                              id="fb_link"
                            />
                          </div>
                          <div class="mb-2">
                            <label for="recipient-name" class="col-form-label"
                              >Tweeter Link :
                            </label>
                            <input
                              type="url"
                              class="form-control"
                              id="tw_link"
                            />
                          </div>
                          <div class="mb-2">
                            <label for="recipient-name" class="col-form-label"
                              >LinkedIn Link :
                            </label>
                            <input
                              type="url"
                              class="form-control"
                              id="ln_link"
                            />
                          </div>
                        </form>
                      </div>
                      <div class="modal-footer">
                        <button
                          type="button"
                          class="btn btn-secondary"
                          data-bs-dismiss="modal"
                          id="close"
                        >
                          Close
                        </button>
                        <button
                          type="button"
                          class="btn btn-primary"
                          (click)="editpersonalinfo()"
                        >
                          Save
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <p class="font-13 text-light" *ngIf="dataFetched">
                  {{ this.userDetails.Profession }}
                </p>
                <!-- <p class="text-light mb-0">Vadodara, Gujarat</p> -->
              </div>
            </div>
            <div class="col-sm-6 d-grid gap-2 d-md-flex justify-content-md-end">
              <div class="text-right">
                <div class="dropdown">
                  <button
                    class="btn btn-light waves-effect me-md-2 dropdown-toggle"
                    type="button"
                    id="dropdownMenuButton1"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    Article
                  </button>
                  <ul
                    class="dropdown-menu readmore"
                    aria-labelledby="dropdownMenuButton1"
                  >
                    <li>
                      <a
                        class="dropdown-item"
                        (click)="getallarticles(this.uid)"
                        >All Articles</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item" (click)="userpublisharticles()"
                        >Published</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item" (click)="userreviewarticles()"
                        >Review</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item" (click)="userdraftarticles()"
                        >Draft</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item" (click)="userarchivearticles()"
                        >Archive</a
                      >
                    </li>
                  </ul>
                  <button
                    class="btn btn-light waves-effect"
                    type="button"
                    data-bs-toggle="modal"
                    data-bs-target="#changepassword"
                  >
                    Change Password
                  </button>

                  <!-- Modal -->
                  <div
                    class="modal fade"
                    id="changepassword"
                    tabindex="-1"
                    aria-labelledby="changepassword"
                    aria-hidden="true"
                  >
                    <div class="modal-dialog modal-dialog-centered">
                      <div class="modal-content dark">
                        <div class="modal-header text-center">
                          <h5 class="modal-title" id="exampleModalLabel">
                            Change Password
                          </h5>
                          <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                          ></button>
                        </div>
                        <div class="modal-body">
                          <div class="input-group mb-5">
                            <span class="input-group-text" id="basic-addon1"
                              ><i class="fa fa-lock" aria-hidden="true"></i
                            ></span>
                            <input
                              type="password"
                              class="form-control"
                              placeholder="Old Password"
                              id="old_password"
                            />
                          </div>
                          <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"
                              ><i class="fa fa-lock" aria-hidden="true"></i
                            ></span>
                            <input
                              type="password"
                              class="form-control"
                              placeholder="New Password"
                              id="new_password"
                            />
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button
                            type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal"
                            id="close"
                          >
                            Close
                          </button>
                          <button
                            type="button"
                            class="btn btn-primary"
                            (click)="changePassword()"
                          >
                            Change Password
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-xl-4">
        <div class="card-box">
          <h4 class="header-title mt-0">Personal Information</h4>
          <div class="panel-body">
            <code>Role: {{ Role }}</code>
            <p class="text-muted font-13" *ngIf="dataFetched">
              {{ this.userDetails.user_bio }}
            </p>
            <hr />
            <div class="text-left">
              <p class="text-muted font-13" *ngIf="dataFetched">
                <strong>Full Name : </strong>
                <span class="m-l-15"
                  >{{ this.userDetails.FirstName }}&nbsp;{{
                    this.userDetails.LastName
                  }}</span
                >
              </p>
              <p class="text-muted font-13" *ngIf="dataFetched">
                <strong>Mobile : </strong
                ><span class="m-l-15">{{ this.userDetails.PhoneNumber }}</span>
              </p>
              <p class="text-muted font-13" *ngIf="dataFetched">
                <strong>Email : </strong>
                <span class="m-l-15">{{ this.userDetails.Email }}</span>
              </p>
              <p class="text-muted font-13" *ngIf="dataFetched">
                <strong>Location : </strong>
                <span class="m-l-15"
                  >{{ this.userDetails.Country }} /
                  {{ this.userDetails.State }} /
                  {{ this.userDetails.City }}</span
                >
              </p>
              <p class="text-muted font-13">
                <strong>Languages : </strong>
                <span class="m-l-5">
                  <span
                    class="flag-icon flag-icon-us m-r-5 m-t-0"
                    title="us"
                  ></span>
                  <span>English,</span>
                </span>
                <span class="m-l-5"
                  ><span class="flag-icon flag-icon-de m-r-5" title="de"></span>
                  <span>Hindi,</span>
                </span>
                <span class="m-l-5"
                  ><span class="flag-icon flag-icon-es m-r-5" title="es"></span>
                  <span>Gujarati</span>
                </span>
              </p>
            </div>
            <ul class="social-links list-inline mt-4 mb-0">
              <li class="list-inline-item">
                <a
                  title=""
                  data-placement="top"
                  data-toggle="tooltip"
                  class="tooltips"
                  href=""
                  target="_blank"
                  id="fb"
                  data-original-title="Facebook"
                  ><i class="fa fa-facebook fa-lg"></i
                ></a>
              </li>
              <li class="list-inline-item">
                <a
                  title=""
                  data-placement="top"
                  data-toggle="tooltip"
                  class="tooltips"
                  target="_blank"
                  href=""
                  id="tw"
                  data-original-title="Twitter"
                  ><i class="fa fa-twitter fa-lg"></i
                ></a>
              </li>
              <li class="list-inline-item">
                <a
                  title=""
                  data-placement="top"
                  data-toggle="tooltip"
                  class="tooltips"
                  target="_blank"
                  href=""
                  id="ln"
                  data-original-title="linkedin"
                  ><i class="fa fa-linkedin fa-lg"></i
                ></a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="col-xl-8">
        <div class="row">
          <div class="col-sm">
            <div class="card-box tilebox-one shadow">
              <i class="icon-layers float-right text-muted"></i>
              <h6 class="text-muted text-uppercase mt-0">Articles</h6>
              <h2 class="counter-count" data-plugin="counterup">
                {{ this.userarticlecount }}
              </h2>
            </div>
          </div>

          <div class="col-sm">
            <div class="card-box tilebox-one shadow">
              <i class="icon-paypal float-right text-muted"></i>
              <h6 class="text-muted text-uppercase mt-0">Published</h6>
              <h2 class="counter-count">
                <span data-plugin="counterup">{{
                  this.userarticlepublishcount
                }}</span>
              </h2>
              <!-- <span class="badge badge-custom">-29% </span><span class="text-muted">previous period</span> -->
            </div>
          </div>
          <div class="col-sm">
            <div class="card-box tilebox-one shadow">
              <i class="icon-layers float-right text-muted"></i>
              <h6 class="text-muted text-uppercase mt-0">Review</h6>
              <h2 class="counter-count" data-plugin="counterup">
                {{ this.userarticlereviewcount }}
              </h2>
            </div>
          </div>

          <div class="col-sm">
            <div class="card-box tilebox-one shadow">
              <i class="icon-rocket float-right text-muted"></i>
              <h6 class="text-muted text-uppercase mt-0">Draft</h6>
              <h2 class="counter-count" data-plugin="counterup">
                {{ this.userarticledraftcount }}
              </h2>
            </div>
          </div>

          <div class="col-sm">
            <div class="card-box tilebox-one shadow">
              <i class="icon-rocket float-right text-muted"></i>
              <h6 class="text-muted text-uppercase mt-0">Archive</h6>
              <h2 class="counter-count" data-plugin="counterup">
                {{ this.userarticlearchivecount }}
              </h2>
            </div>
          </div>
        </div>

        <div class="card-box shadow">
          <!-- <div class=""> -->
          <!-- <hr /> -->
          <h6 class="text-muted text-center" *ngIf="atricleNotFound">
            No Articles Found
          </h6>
          <ng-container *ngIf="!atricleNotFound">
            <div class="p-3" *ngFor="let item of getuserarticles">
              <h5 class="text-custom">{{ item.Article_Title }}</h5>
              <p class="mb-0">{{ item.PostedOn }}</p>
              <p
                class="text-muted font-13 mb-0 show-less"
                [innerHTML]="item.Description"
              >
                <!-- {{ item.Description }} -->
              </p>
              <a
                (click)="
                  readMore(
                    item.Article_Id,
                    item.Status,
                    item.Draft,
                    item.Archive
                  )
                "
                class="readmore"
                >Read More..</a
              >
              <p style="float: right"></p>
              <hr />
            </div>
          </ng-container>

          <!-- <div class="">
              <h5 class="text-custom">Senior Graphic Designer</h5>
              <p class="mb-0">coderthemes.com</p>
              <p><b>2007-2009</b></p>
              <p class="text-muted font-13 mb-0 show-less">
                Lorem Ipsum is simply dummy text of the printing and typesetting
                industry. Lorem Ipsum has been the industry's standard dummy
                text ever since the 1500s, when an unknown printer took a galley
                of type and scrambled it to make a type specimen book. Lorem,
                ipsum dolor sit amet consectetur adipisicing elit. Soluta ea
                eligendi fuga voluptas accusamus odio commodi, quisquam optio
                recusandae, sint alias cum porro neque, placeat quidem
                praesentium beatae ad incidunt!
              </p>
              <a href="/fullarticle" class="readmore">Read More..</a>
            </div> -->
          <!-- </div> -->
        </div>
      </div>
    </div>
  </div>
</div>
